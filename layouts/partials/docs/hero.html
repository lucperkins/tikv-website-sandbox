{{- $docs           := where .Site.Pages "Section" "docs" }}
{{- $description    := .Params.description }}
{{- $currentUrl     := .URL }}
{{- $versions       := sort (readDir "content/docs") "Name" "desc" }}
{{- $latest         := (index $versions 0).Name }}
{{- $currentVersion := index (split .File.Path "/") 1 }}
<section class="hero is-small is-primary">
  <div class="hero-body">
    <div class="container">
      <h1 class="title{{ if $description }} is-spaced{{ end }}">
        {{ .Title }}
      </h1>
      {{- with $description }}
      <h2 class="subtitle">
        {{ . }}
      </h2>
      {{- end }}
    </div>
  </div>

  <div class="hero-foot">
    <nav class="tabs is-boxed">
      <div class="container">
        <ul>
          {{- range $docs }}
          {{- $isCurrentPage := eq .URL $currentUrl }}
          {{- $version := index (split .File.Path "/") 1 }}
          {{- $isCurrentVersion := eq $version $currentVersion }}
          {{- if $isCurrentVersion }}
          <li{{ if $isCurrentPage }} class="is-active"{{ end }}>
            <a href="{{ .URL }}">
              {{ .Title }}
            </a>
          </li>
          {{- end }}
          {{- end }}
        </ul>
      </div>
    </nav>
  </div>
</section>
